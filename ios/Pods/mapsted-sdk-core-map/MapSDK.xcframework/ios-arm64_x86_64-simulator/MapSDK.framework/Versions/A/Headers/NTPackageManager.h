/* ----------------------------------------------------------------------------
 * This file was automatically generated by SWIG (http://www.swig.org).
 * Version 2.0.11
 *
 * This file is not intended to be easily readable and contains a number of
 * coding conventions designed to improve portability and efficiency. Do not make
 * changes to this file unless you know what you are doing--modify the SWIG
 * interface file instead.
 * ----------------------------------------------------------------------------- */

#import <Foundation/Foundation.h>


#ifdef __cplusplus
extern "C" {
#endif


#ifdef __cplusplus
}
#endif
#import "NTMapPos.h"
#ifdef __cplusplus
extern "C" {
#endif
#ifdef __cplusplus
}
#endif
#import "NTMapBounds.h"
#ifdef __cplusplus
extern "C" {
#endif
#ifdef __cplusplus
}
#endif
#import "NTPackageInfo.h"
#ifdef __cplusplus
extern "C" {
#endif
#ifdef __cplusplus
}
#endif
#import "NTPackageMetaInfo.h"
#ifdef __cplusplus
extern "C" {
#endif
#ifdef __cplusplus
}
#endif
#import "NTPackageStatus.h"
#ifdef __cplusplus
extern "C" {
#endif
#ifdef __cplusplus
}
#endif
#import "NTPackageManagerListener.h"
#ifdef __cplusplus
extern "C" {
#endif
#ifdef __cplusplus
}
#endif
#import "NTProjection.h"
#ifdef __cplusplus
extern "C" {
#endif
@class NTPackageInfoVector;

/**
 * Base class for offline map package manager. Package manager supports downloading/removing packages.
 * It can be queried about available packages and status of the packages. It works asynchronously in
 * the background and can inform app when packages have been updated.
 * It works persistently. If a package download is started and app is closed, the download will resume
 * when the package manager is started next time.
 */
__attribute__ ((visibility("default"))) @interface NTPackageManager : NSObject
{
  /** @internal:nodoc: */
  void *swigCPtr;
  /** @internal:nodoc: */
  BOOL swigCMemOwn;
}
/** @internal:nodoc: */
-(void*)getCptr;
/** @internal:nodoc: */
-(id)initWithCptr: (void*)cptr swigOwnCObject: (BOOL)ownCObject;

/**
 * Creates a polymorphic instance of the given native object. This is used internally by the SDK.
 * @param cPtr The native pointer of the instance.
 * @param cMemoryOwn The ownership flag.
 * @return The new instance.
 */
/** @internal:nodoc: */
+(NTPackageManager*)swigCreatePolymorphicInstance:(void*)cPtr swigOwnCObject:(BOOL)cMemoryOwn;


/**  
 * Checks if this object is equal to the specified object.
 * @param object The reference object.
 * @return True when objects are equal, false otherwise.
 */
-(BOOL)isEqual:(id)object;

/**
 * Returns the hash value of this object.
 * @return The hash value of this object.
 */
-(NSUInteger)hash;

/**
 * Constructs a new package manager, given URL for package list and data folder.
 * The data folder must exist before creating a new package manager and it is assumed to be persistent.
 * Note: the package manager must be explicitly started using start() method!
 * @param packageListURL The URL that defines all packages.
 * @param dataFolder The folder where downloaded packages are kept. It must exist and must be writable.
 * @param serverEncKey Encryption key for server packages
 * @param localEncKey Encryption key for local packages
 * @throws NSException If package manager fails to open or create package database.
 */
-(id)initWithPackageListURL: (NSString*)packageListURL dataFolder: (NSString*)dataFolder serverEncKey: (NSString*)serverEncKey localEncKey: (NSString*)localEncKey;
/**
 * Returns the current listener for package manager events.
 * @return The current listener or null if none is set.
 */
-(NTPackageManagerListener*)getPackageManagerListener;
/**
 * Sets the package manager listener.
 * @param listener The new package manager listener to use.
 */
-(void)setPackageManagerListener: (NTPackageManagerListener*)listener;
/**
 * Starts the package manager. All previous tasks will be resumed after this.
 * @return True if package manager was successfully started. False otherwise (can not create/access database).
 */
-(BOOL)start;
/**
 * Stops the package manager. The stopping can be asynchronous or synchronous.
 * @param wait If set to true, then synchronous stopping is performed and the operation may take a while.
 */
-(void)stop: (BOOL)wait;
/**
 * Returns the list of available server packages.
 * Note that the list must be retrieved from the server first, using startPackageListDownload.
 * @return The list of available server packages.
 */
-(NTPackageInfoVector*)getServerPackages;
/**
 * Returns the list of available local downloaded packages.
 * @return The list of available local downloaded packages.
 */
-(NTPackageInfoVector*)getLocalPackages;
/**
 * Returns the metainfo of server packages.
 * @return The metainfo data about server packages, or null if no metainfo is available.
 */
-(NTPackageMetaInfo*)getServerPackageListMetaInfo;
/**
 * Returns the age of server package list. This method can be used to measure the time of the download and check whether the list should be updated.
 * @return The age of server package list in seconds.
 */
-(int)getServerPackageListAge;
/**
 * Returns the specified server package.
 * Note that the list must be retrieved from the server first, using startPackageListDownload.
 * @param packageId The id of the package.
 * @return The specified server package or null if it is not in the server package list.
 */
-(NTPackageInfo*)getServerPackage: (NSString*)packageId;
/**
 * Returns the specified local package.
 * @param packageId The id of the package.
 * @return The specified local package or null if it can not be found in the local package list. Note that if the package is being downloaded, null is returned.
 */
-(NTPackageInfo*)getLocalPackage: (NSString*)packageId;
/**
 * Returns the status of the specified package.
 * @param packageId The id of the package.
 * @param version The version of the package. Use -1 for the latest version.
 * @return The status of the package or null if it is not yet downloaded. If the package is currently being downloaded, its status is returned.
 */
-(NTPackageStatus*)getLocalPackageStatus: (NSString*)packageId version: (int)version;
/**
 * Suggests packages for given map position. Note that in order this to work, local package list must be available first.
 * @param mapPos The map position.
 * @param projection The projection for the map position.
 * @return The sorted list of suggested packages (from the best to the worst). The list may contain downloaded packages.
 */
-(NTPackageInfoVector*)suggestPackages: (NTMapPos*)mapPos projection: (NTProjection*)projection;
/**
 * Tests if the specified map area at specified zoom level is downloaded.
 * @param mapBounds The area bounding box.
 * @param zoom The zoom level to check.
 * @param projection The projection for the bounding box.
 * @return True if all required tiles are downloaded and available. False otherwise.
 */
-(BOOL)isAreaDownloaded: (NTMapBounds*)mapBounds zoom: (int)zoom projection: (NTProjection*)projection;
/**
 * Starts downloading package list asynchronously. When this task finishes, listener is called and server package list is updated.
 * @return True if the package list will be downloaded and listener will be notified (if set). False if it can not be downloaded.
 */
-(BOOL)startPackageListDownload;
/**
 * Starts importing the specified package asynchronously. When this task finishes, listener is called and local package list is updated.
 * Note 1: In general, package manager may need temporary storage equal to the size of the package during import. It is the responsibility of the app to perform such checks.
 * Note 2: the package may not be deleted after this call, as the import is asynchronous operation. It is safe to delete the original file once import is complete (this is notified via manager listener).
 * @param packageId The id of the package to download.
 * @param version The version of the package.
 * @param packageFileName The fully qualified path of the package. The file name may also refer to URL or asset (using 'asset://' prefix).
 * @return True is the package will be imported.
 */
-(BOOL)startPackageImport: (NSString*)packageId version: (int)version packageFileName: (NSString*)packageFileName;
/**
 * Starts downloading specified package asynchronously. When this task finishes, listener is called and local package list is updated.
 * Note: In general, package manager may need temporary storage equal to the size of the package during download. It is the responsibility of the app to perform such checks.
 * @param packageId The id of the package to download.
 * @return True is the package is available and will be downloaded. False if the package was not found.
 */
-(BOOL)startPackageDownload: (NSString*)packageId;
/**
 * Starts the removal of specified package asynchronously. When this task finishes, listener is called and local package list is updated.
 * @param packageId The id of the package to remove.
 * @return True is the package was found and will be removed. False if the package was not found.
 */
-(BOOL)startPackageRemove: (NSString*)packageId;
/**
 * Cancels the current/pending tasks involving of the specified package.
 * @param packageId The id of the package to cancel.
 */
-(void)cancelPackageTasks: (NSString*)packageId;
/**
 * Sets the priority of the specific package.
 * If the given priority is higher than priority of any other package, other operations will be paused and this package is processed immediately.
 * If the given priority is set to negative value, package download will be paused until priority is reset to non-negative value.
 * @param packageId The id of the download package.
 * @param priority The priority of the download package. If it is less than zero, package download is paused.
 */
-(void)setPackagePriority: (NSString*)packageId priority: (int)priority;
/**
 * Returns the raw pointer to the object. This is used internally by the SDK.
 * @return The internal pointer of the object.
 */
/** @internal:nodoc: */
-(long long)swigGetRawPtr;
/**
 * Returns the actual class name of this object. This is used internally by the SDK.
 * @return The class name of this object.
 */
/** @internal:nodoc: */
-(NSString*)swigGetClassName;
/**
 * Returns the pointer to the connected director object. This is used internally by the SDK.
 * @return The pointer to the connected director object or null if director is not connected.
 */
/** @internal:nodoc: */
-(void *)swigGetDirectorObject;

-(void)dealloc;

@end


#ifdef __cplusplus
}
#endif

